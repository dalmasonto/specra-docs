---
title: Aper√ßu de la configuration
description: Guide complet pour configurer votre site de documentation Specra
sidebar_position: 1
icon: settings
tab_group: guides
---

# Aper√ßu de la configuration

Specra utilise un seul fichier de configuration, `specra.config.json`, situ√© √† la racine de votre projet. Ce fichier contr√¥le tout, des m√©tadonn√©es du site aux param√®tres de navigation, de th√®me et de d√©ploiement.

## D√©marrage rapide

Voici une configuration minimale pour commencer :

```json
{
  "site": {
    "title": "Ma Documentation",
    "description": "Documentation pour mon projet",
    "url": "https://docs.example.com"
  }
}
```

C'est tout ! Specra remplit des valeurs par d√©faut judicieuses pour tout le reste.

## Structure de la configuration

Le fichier de configuration est organis√© en sections logiques :

<CardGrid cols={2}>
  <Card
    icon="globe"
    title="Configuration du site"
    description="M√©tadonn√©es de base du site, marque et URL"
    href="/docs/v1.0.0/configuration/site-config"
  />
  <Card
    icon="layout"
    title="Navigation"
    description="Barre lat√©rale, fil d'Ariane, table des mati√®res et groupes d'onglets"
    href="/docs/v1.0.0/configuration/navigation"
  />
  <Card
    icon="rocket"
    title="D√©ploiement"
    description="Param√®tres de d√©ploiement sp√©cifiques √† la plateforme"
    href="/docs/v1.0.0/configuration/deployment-config"
  />
  <Card
    icon="sliders"
    title="Options avanc√©es"
    description="Analytique, recherche, fonctionnalit√©s et variables d'environnement"
    href="/docs/v1.0.0/configuration/advanced"
  />
</CardGrid>

## Exemple complet

Voici une configuration compl√®te montrant toutes les options disponibles :

```json
{
  "$schema": "./node_modules/specra/config/specra.config.schema.json",
  "site": {
    "title": "Mes Docs",
    "description": "Documentation compl√®te",
    "url": "https://docs.example.com",
    "baseUrl": "/",
    "language": "fr",
    "organizationName": "Ma Soci√©t√©",
    "projectName": "mon-projet",
    "activeVersion": "v1.0.0",
    "logo": "/logo.svg",
    "favicon": "/favicon.ico",
    "hideTitle": false,
    "hideLogo": false
  },
  "theme": {
    "defaultMode": "system",
    "respectPrefersColorScheme": true,
    "primaryColor": "#3b82f6",
    "customCss": "/custom.css"
  },
  "navigation": {
    "showSidebar": true,
    "collapsibleSidebar": true,
    "showBreadcrumbs": true,
    "showTableOfContents": true,
    "tocPosition": "right",
    "tocMaxDepth": 3,
    "tabGroups": [
      {
        "id": "guides",
        "label": "Guides",
        "icon": "book-open"
      },
      {
        "id": "api",
        "label": "R√©f√©rence API",
        "icon": "zap"
      }
    ]
  },
  "social": {
    "github": "https://github.com/username/repo",
    "twitter": "https://twitter.com/username",
    "discord": "https://discord.gg/invite",
    "linkedin": "https://linkedin.com/company/name",
    "youtube": "https://youtube.com/@channel",
    "custom": [
      {
        "label": "Site web",
        "url": "https://example.com",
        "icon": "globe"
      }
    ]
  },
  "search": {
    "enabled": true,
    "placeholder": "Rechercher dans la documentation...",
    "provider": "meilisearch",
    "meilisearch": {
      "host": "https://search.example.com",
      "apiKey": "search-key",
      "indexName": "docs"
    }
  },
  "analytics": {
    "googleAnalytics": "G-XXXXXXXXXX",
    "googleTagManager": "GTM-XXXXXXX",
    "plausible": "docs.example.com"
  },
  "footer": {
    "copyright": "¬© 2024 Ma Soci√©t√©. Tous droits r√©serv√©s.",
    "customContent": "<p>HTML personnalis√© ici</p>",
    "links": [
      {
        "title": "Produit",
        "items": [
          { "label": "Fonctionnalit√©s", "href": "/features" },
          { "label": "Tarifs", "href": "/pricing" }
        ]
      }
    ]
  },
  "banner": {
    "enabled": true,
    "message": "üì¢ La version 2.0 arrive bient√¥t !",
    "type": "info",
    "dismissible": true
  },
  "features": {
    "editUrl": "https://github.com/username/repo/edit/main/docs",
    "showLastUpdated": true,
    "showReadingTime": true,
    "showAuthors": false,
    "showTags": true,
    "versioning": true,
    "i18n": false
  },
  "env": {
    "API_BASE_URL": "https://api.example.com",
    "API_VERSION": "v1",
    "CDN_URL": "https://cdn.example.com"
  },
  "deployment": {
    "target": "vercel",
    "basePath": "",
    "customDomain": false
  }
}
```

## Support TypeScript

Pour les projets TypeScript, vous pouvez utiliser des fichiers de configuration `.ts` ou `.mts` :

```typescript
// specra.config.ts
import type { SpecraConfig } from 'specra'

const config: SpecraConfig = {
  site: {
    title: 'Ma Documentation',
    description: 'Construit avec Specra',
  },
  // ... reste de la config
}

export default config
```

## Autocompl√©tion IDE

Le fichier de configuration inclut une propri√©t√© `$schema` qui active l'autocompl√©tion dans VS Code et d'autres √©diteurs :

```json
{
  "$schema": "./node_modules/specra/config/specra.config.schema.json",
  "site": {
    // L'autocompl√©tion fonctionne ici !
  }
}
```

Lorsque vous tapez, votre √©diteur sugg√©rera les options disponibles et affichera des descriptions.

## Variables d'environnement

Vous pouvez utiliser des variables d'environnement dans votre configuration :

```json
{
  "search": {
    "meilisearch": {
      "host": "${MEILISEARCH_HOST}",
      "apiKey": "${MEILISEARCH_API_KEY}"
    }
  }
}
```

Ensuite, d√©finissez-les :

```bash
# .env.local
MEILISEARCH_HOST=https://search.example.com
MEILISEARCH_API_KEY=your-key
```

<Callout type="warning">
Ne commitez jamais de cl√©s API sensibles dans le contr√¥le de version. Utilisez plut√¥t des variables d'environnement.
</Callout>

## Validation de la configuration

Specra valide votre configuration au d√©marrage et affiche des erreurs utiles si quelque chose ne va pas :

```
‚ùå Erreur de configuration dans specra.config.json :
   - site.url doit √™tre une URL valide
   - navigation.tocMaxDepth doit √™tre entre 1 et 6
```

Corrigez les erreurs et red√©marrez votre serveur de d√©veloppement.

## Valeurs par d√©faut

Si vous omettez des champs optionnels, Specra utilise ces valeurs par d√©faut :

| Champ | Valeur par d√©faut |
|-------|-------------------|
| `site.baseUrl` | `"/"` |
| `site.language` | `"en"` |
| `theme.defaultMode` | `"system"` |
| `theme.respectPrefersColorScheme` | `true` |
| `navigation.showSidebar` | `true` |
| `navigation.collapsibleSidebar` | `true` |
| `navigation.showBreadcrumbs` | `true` |
| `navigation.showTableOfContents` | `true` |
| `navigation.tocPosition` | `"right"` |
| `navigation.tocMaxDepth` | `3` |
| `search.enabled` | `false` |
| `features.showLastUpdated` | `true` |
| `features.showReadingTime` | `true` |
| `features.versioning` | `true` |
| `deployment.target` | `"vercel"` |

## Environnements multiples

Cr√©ez des configurations sp√©cifiques √† l'environnement :

```txt
‚îú‚îÄ‚îÄ specra.config.json          # Config de base
‚îú‚îÄ‚îÄ specra.config.development.json
‚îú‚îÄ‚îÄ specra.config.staging.json
‚îî‚îÄ‚îÄ specra.config.production.json
```

Chargez la bonne en fonction de `NODE_ENV` :

```javascript
// Charger la config en fonction de l'environnement
const config = require(`./specra.config.${process.env.NODE_ENV}.json`)
```

## Prochaines √©tapes

Plongez dans des sections de configuration sp√©cifiques :

<CardGrid cols={2}>
  <Card
    icon="globe"
    title="Configuration du site"
    description="Configurer les m√©tadonn√©es et la marque du site"
    href="/docs/v1.0.0/configuration/site-config"
  />
  <Card
    icon="layout"
    title="Navigation"
    description="Configurer la navigation et les groupes d'onglets"
    href="/docs/v1.0.0/configuration/navigation"
  />
  <Card
    icon="rocket"
    title="D√©ploiement"
    description="Configurer les param√®tres de d√©ploiement"
    href="/docs/v1.0.0/configuration/deployment-config"
  />
  <Card
    icon="sliders"
    title="Avanc√©"
    description="Analytique, recherche et plus"
    href="/docs/v1.0.0/configuration/advanced"
  />
</CardGrid>
