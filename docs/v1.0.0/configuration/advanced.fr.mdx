---
title: Configuration avanc√©e
description: Configurez l'analytique, la recherche, les fonctionnalit√©s, le pied de page, la banni√®re et les variables d'environnement
sidebar_position: 5
icon: sliders
tab_group: guides
---

# Configuration avanc√©e

Au-del√† des bases, Specra offre des fonctionnalit√©s puissantes comme l'analytique, la recherche, les pieds de page personnalis√©s, les banni√®res et les variables d'environnement. Ce guide couvre toutes les options de configuration avanc√©es.

## Analytique

Suivez comment les utilisateurs interagissent avec votre documentation.

### Google Analytics

```json
{
  "analytics": {
    "googleAnalytics": "G-XXXXXXXXXX"
  }
}
```

Obtenez votre ID de mesure sur [Google Analytics](https://analytics.google.com).

### Google Tag Manager

```json
{
  "analytics": {
    "googleTagManager": "GTM-XXXXXXX"
  }
}
```

Plus flexible que Google Analytics, permet un suivi personnalis√© sans modification de code.

### Plausible Analytics

Alternative respectueuse de la vie priv√©e √† Google Analytics :

```json
{
  "analytics": {
    "plausible": "docs.example.com"
  }
}
```

Inscrivez-vous sur [plausible.io](https://plausible.io).

### Analytiques multiples

Utilisez plusieurs fournisseurs simultan√©ment :

```json
{
  "analytics": {
    "googleAnalytics": "G-XXXXXXXXXX",
    "plausible": "docs.example.com"
  }
}
```

## Configuration de la recherche

Activez une recherche puissante pour votre documentation.

### Configuration de base de la recherche

```json
{
  "search": {
    "enabled": true,
    "placeholder": "Rechercher dans la documentation...",
    "provider": "meilisearch"
  }
}
```

### MeiliSearch

Recherche compl√®te avec tol√©rance aux fautes de frappe :

```json
{
  "search": {
    "enabled": true,
    "provider": "meilisearch",
    "meilisearch": {
      "host": "https://search.example.com",
      "apiKey": "votre-cl√©-de-recherche",
      "indexName": "docs"
    }
  }
}
```

Voir [Configuration de la recherche](/docs/v1.0.0/search-setup) pour la configuration compl√®te de MeiliSearch.

### Recherche locale

Recherche simple sans d√©pendances externes :

```json
{
  "search": {
    "enabled": true,
    "provider": "local",
    "placeholder": "Rechercher..."
  }
}
```

**Avantages :**
- Aucune configuration requise
- Fonctionne hors ligne
- Gratuit

**Inconv√©nients :**
- Moins puissant que MeiliSearch
- Pas de tol√©rance aux fautes de frappe
- Plus lent pour les grands sites

## Configuration du pied de page

Personnalisez le pied de page de votre documentation.

### Pied de page basique

```json
{
  "footer": {
    "copyright": "¬© 2024 Ma Soci√©t√©. Tous droits r√©serv√©s."
  }
}
```

### Pied de page complet

```json
{
  "footer": {
    "copyright": "¬© 2024 Acme Corp. Tous droits r√©serv√©s.",
    "customContent": "<p>Besoin d'aide ? <a href='/support'>Contacter le support</a></p>",
    "links": [
      {
        "title": "Produit",
        "items": [
          { "label": "Fonctionnalit√©s", "href": "/features" },
          { "label": "Tarifs", "href": "/pricing" },
          { "label": "Journal des modifications", "href": "/changelog" }
        ]
      },
      {
        "title": "Ressources",
        "items": [
          { "label": "Documentation", "href": "/docs" },
          { "label": "R√©f√©rence API", "href": "/api" },
          { "label": "Exemples", "href": "/examples" }
        ]
      },
      {
        "title": "Soci√©t√©",
        "items": [
          { "label": "√Ä propos", "href": "/about" },
          { "label": "Blog", "href": "/blog" },
          { "label": "Carri√®res", "href": "/careers" }
        ]
      }
    ],
    "branding": {
      "showBranding": true,
      "logo": "/brand-logo.svg",
      "title": "Propuls√© par Specra",
      "url": "https://specra.dev"
    }
  }
}
```

### Options de pied de page

**copyright**
- Avis de droit d'auteur affich√© en bas
- Prend en charge le HTML

**customContent**
- HTML personnalis√© ins√©r√© dans le pied de page
- Utilisez pour des messages suppl√©mentaires ou des liens

**links**
- Colonnes de liens organis√©es
- Chaque colonne a un titre et des √©l√©ments
- Les √©l√©ments ont une √©tiquette et un href

**branding**
- Affiche la marque "Propuls√© par"
- Personnalisez le logo, le titre et l'URL
- D√©finissez `showBranding: false` pour masquer

## Configuration de la banni√®re

Affichez des messages importants en haut de votre site.

### Banni√®re basique

```json
{
  "banner": {
    "enabled": true,
    "message": "üì¢ La version 2.0 est maintenant disponible !",
    "type": "info"
  }
}
```

### Options de banni√®re

```json
{
  "banner": {
    "enabled": true,
    "message": "‚ö†Ô∏è Maintenance planifi√©e dimanche √† 2h UTC",
    "type": "warning",
    "dismissible": true
  }
}
```

**Propri√©t√©s :**

| Propri√©t√© | Type | Description |
|-----------|------|-------------|
| `enabled` | boolean | Afficher ou masquer la banni√®re |
| `message` | string | Texte de la banni√®re (prend en charge les √©mojis et le HTML) |
| `type` | string | Style : `info`, `warning`, `success`, `error` |
| `dismissible` | boolean | Permettre aux utilisateurs de fermer la banni√®re |

### Types de banni√®res

**Info (bleu) :**
```json
{
  "banner": {
    "message": "üì¢ Nouvelle fonctionnalit√© : Le mode sombre est l√† !",
    "type": "info"
  }
}
```

**Avertissement (jaune) :**
```json
{
  "banner": {
    "message": "‚ö†Ô∏è L'API v1 sera obsol√®te le 1er janv. 2025",
    "type": "warning"
  }
}
```

**Succ√®s (vert) :**
```json
{
  "banner": {
    "message": "‚úÖ Tous les syst√®mes op√©rationnels",
    "type": "success"
  }
}
```

**Erreur (rouge) :**
```json
{
  "banner": {
    "message": "üö® Mise √† jour de s√©curit√© critique disponible",
    "type": "error"
  }
}
```

## Configuration des fonctionnalit√©s

Activez ou d√©sactivez diverses fonctionnalit√©s de documentation.

```json
{
  "features": {
    "editUrl": "https://github.com/username/repo/edit/main/docs",
    "showLastUpdated": true,
    "showReadingTime": true,
    "showAuthors": false,
    "showTags": true,
    "versioning": true,
    "i18n": false
  }
}
```

### Options de fonctionnalit√©

**editUrl**
- Lien pour modifier la source de la page
- Appara√Æt en bas de chaque page
- Utilisez GitHub, GitLab ou toute URL d'h√©bergement Git
- D√©finissez √† `false` pour d√©sactiver

**showLastUpdated**
- Afficher quand la page a √©t√© modifi√©e pour la derni√®re fois
- Utilise les horodatages de commit git
- Appara√Æt en bas de la page

**showReadingTime**
- Estimer le temps de lecture (mots par minute)
- Affiche "5 min de lecture" en haut de la page

**showAuthors**
- Afficher les auteurs de la page
- N√©cessite des informations sur l'auteur dans le frontmatter

**showTags**
- Afficher les √©tiquettes sur les pages
- N√©cessite des √©tiquettes dans le frontmatter

**versioning**
- Activer la gestion des versions de la documentation
- Prend en charge plusieurs versions de doc (v1.0.0, v2.0.0)

**i18n**
- Activer l'internationalisation
- Prend en charge plusieurs langues

## Liens sociaux (Social Links)

Ajoutez des liens de r√©seaux sociaux √† votre en-t√™te.

```json
{
  "social": {
    "github": "https://github.com/username/repo",
    "twitter": "https://twitter.com/username",
    "discord": "https://discord.gg/invite",
    "linkedin": "https://linkedin.com/company/name",
    "youtube": "https://youtube.com/@channel"
  }
}
```

### Liens sociaux personnalis√©s

Ajoutez des liens vers des plateformes non int√©gr√©es :

```json
{
  "social": {
    "github": "https://github.com/username",
    "custom": [
      {
        "label": "Slack",
        "url": "https://slack.com/invite",
        "icon": "slack"
      },
      {
        "label": "Site web",
        "url": "https://example.com",
        "icon": "globe"
      }
    ]
  }
}
```

## Variables d'environnement

Utilisez des variables d'environnement dans votre configuration et le contenu MDX.

### Dans la configuration

```json
{
  "env": {
    "API_BASE_URL": "https://api.example.com",
    "API_VERSION": "v1",
    "CDN_URL": "https://cdn.example.com",
    "SUPPORT_EMAIL": "support@example.com"
  }
}
```

Acc√®s dans MDX :

```mdx
Point de terminaison API : {process.env.API_BASE_URL}
Version actuelle : {process.env.API_VERSION}
```

### Depuis les fichiers .env

D√©finir les valeurs via des fichiers d'environnement :

```bash
# .env.local
API_BASE_URL=https://api.example.com
MEILISEARCH_HOST=https://search.example.com
MEILISEARCH_API_KEY=your-key
```

R√©f√©rence dans la configuration :

```json
{
  "env": {
    "API_BASE_URL": "${API_BASE_URL}"
  },
  "search": {
    "meilisearch": {
      "host": "${MEILISEARCH_HOST}",
      "apiKey": "${MEILISEARCH_API_KEY}"
    }
  }
}
```

<Callout type="warning">
Ne commitez jamais de cl√©s sensibles dans le contr√¥le de version. Utilisez des variables d'environnement et ajoutez `.env.local` √† `.gitignore`.
</Callout>

### Variables publiques vs priv√©es

**Priv√© (serveur uniquement) :**
```
MEILISEARCH_API_KEY=secret-key
DATABASE_URL=postgres://...
```

**Public (expos√© au navigateur) :**
```
NEXT_PUBLIC_GA_ID=G-XXXXXXXXXX
NEXT_PUBLIC_API_URL=https://api.example.com
```

Pr√©fixez avec `NEXT_PUBLIC_` pour rendre les variables disponibles dans le navigateur.

## Configuration du th√®me

Personnalisez l'apparence visuelle.

```json
{
  "theme": {
    "defaultMode": "system",
    "respectPrefersColorScheme": true,
    "primaryColor": "#3b82f6",
    "customCss": "/custom.css"
  }
}
```

**defaultMode**
- `"system"` - Correspondre √† la pr√©f√©rence du syst√®me d'exploitation
- `"light"` - Toujours en mode clair
- `"dark"` - Toujours en mode sombre

**respectPrefersColorScheme**
- Respecter la pr√©f√©rence de sch√©ma de couleurs du syst√®me d'exploitation
- D√©finissez √† `false` pour ignorer les param√®tres du syst√®me d'exploitation

**primaryColor**
- Couleur principale de la marque (code hexad√©cimal)
- Utilis√© pour les liens, boutons, accents

**customCss**
- Chemin vers le fichier CSS personnalis√©
- Ajoutez dans le dossier `public/`

Voir [Personnalisation](/docs/v1.0.0/customization) pour un guide d√©taill√© sur les th√®mes.

## Exemple complet

Voici une configuration Specra enti√®rement configur√©e :

```json
{
  "site": {
    "title": "Documentation Acme",
    "description": "Docs compl√®tes pour la plateforme Acme",
    "url": "https://docs.acme.com"
  },
  "theme": {
    "defaultMode": "system",
    "primaryColor": "#6366f1"
  },
  "navigation": {
    "showSidebar": true,
    "showTableOfContents": true,
    "tocPosition": "right",
    "tabGroups": [
      { "id": "guides", "label": "Guides", "icon": "book-open" },
      { "id": "api", "label": "API", "icon": "zap" }
    ]
  },
  "search": {
    "enabled": true,
    "provider": "meilisearch",
    "meilisearch": {
      "host": "${MEILISEARCH_HOST}",
      "apiKey": "${MEILISEARCH_API_KEY}",
      "indexName": "docs"
    }
  },
  "analytics": {
    "googleAnalytics": "G-XXXXXXXXXX",
    "plausible": "docs.acme.com"
  },
  "social": {
    "github": "https://github.com/acme/platform",
    "twitter": "https://twitter.com/acme",
    "discord": "https://discord.gg/acme"
  },
  "footer": {
    "copyright": "¬© 2024 Acme Corp. Tous droits r√©serv√©s.",
    "links": [
      {
        "title": "Produit",
        "items": [
          { "label": "Fonctionnalit√©s", "href": "/features" },
          { "label": "Tarifs", "href": "/pricing" }
        ]
      }
    ]
  },
  "banner": {
    "enabled": true,
    "message": "üì¢ La version 2.0 est maintenant disponible !",
    "type": "info",
    "dismissible": true
  },
  "features": {
    "editUrl": "https://github.com/acme/platform/edit/main/docs",
    "showLastUpdated": true,
    "showReadingTime": true,
    "showTags": true,
    "versioning": true
  },
  "deployment": {
    "target": "vercel"
  }
}
```

## Prochaines √©tapes

<CardGrid cols={2}>
  <Card
    icon="search"
    title="Configuration de la recherche"
    description="Configurer MeiliSearch pour vos docs"
    href="/docs/v1.0.0/search-setup"
  />
  <Card
    icon="palette"
    title="Personnalisation"
    description="Th√®me et style de votre documentation"
    href="/docs/v1.0.0/customization"
  />
  <Card
    icon="rocket"
    title="D√©ploiement"
    description="D√©ployer en production"
    href="/docs/v1.0.0/deployment/overview"
  />
  <Card
    icon="arrow-left"
    title="Aper√ßu de la configuration"
    description="Retour √† l'aper√ßu de la configuration"
    href="/docs/v1.0.0/configuration/overview"
  />
</CardGrid>
