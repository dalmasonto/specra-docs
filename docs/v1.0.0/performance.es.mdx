---
title: Rendimiento y desarrollo
description: Comprenda las optimizaciones de rendimiento y las caracter√≠sticas de desarrollo integradas en el sistema de documentaci√≥n
order: 7
icon: zap
---

## Sistema de cach√©

### Cach√© en memoria

El sistema utiliza una capa de cach√© inteligente para operaciones costosas del sistema de archivos:

- **Cach√© de lista de versiones**: En cach√© por 5 segundos en dev, 60 segundos en producci√≥n
- **Cach√© de lista de documentos**: Cach√© por versi√≥n con invalidaci√≥n autom√°tica
- **Cach√© de documento individual**: Clave por versi√≥n y slug

La cach√© se invalida autom√°ticamente cuando los archivos MDX o de configuraci√≥n cambian en modo de desarrollo.

### Estad√≠sticas de cach√©

En modo de desarrollo, las operaciones de cach√© se registran en la consola:

```
‚úÖ [Cache] hit: getAllDocs:v1.0.0
‚ùå [Cache] miss: getDocBySlug:v1.0.0:configuration
‚è±Ô∏è  getDocBySlug(configuration): 45.23ms
```

## Recarga en caliente

### Actualizaciones en tiempo real

El sistema monitorea su directorio `docs/` en busca de cambios y actualiza autom√°ticamente la p√°gina cuando guarda:

- Observa archivos `.mdx` para cambios de contenido
- Observa archivos `_category_.json` para actualizaciones de navegaci√≥n
- Utiliza eventos enviados por el servidor (SSE) para una comunicaci√≥n eficiente
- Solo activo en modo de desarrollo

### C√≥mo funciona

1. El observador de archivos monitorea el directorio `docs/` recursivamente
2. Cuando un archivo cambia, la API env√≠a un evento al navegador
3. El navegador activa una actualizaci√≥n suave para recargar el contenido
4. La cach√© se invalida para los archivos afectados

## Generaci√≥n est√°tica

### Proceso de construcci√≥n optimizado

El proceso de construcci√≥n utiliza datos en cach√© para acelerar `generateStaticParams`:

```typescript
export async function generateStaticParams() {
  const versions = getCachedVersions()  // En cach√©
  const params = []

  for (const version of versions) {
    const docs = await getCachedAllDocs(version)  // En cach√©
    for (const doc of docs) {
      params.push({
        version,
        slug: doc.slug.split("/").filter(Boolean),
      })
    }
  }

  return params
}
```

### Consejos de rendimiento

Para sitios de documentaci√≥n grandes (1000+ archivos):

1. **Use organizaci√≥n de carpetas**: Organice los documentos en carpetas l√≥gicas para mejorar la localidad de la cach√©
2. **Habilite el modo borrador**: Marque los documentos en progreso con `draft: true` para excluirlos de las compilaciones de producci√≥n
3. **Optimice im√°genes**: Use la optimizaci√≥n de im√°genes de Next.js para capturas de pantalla y diagramas
4. **Monitoree tiempos de compilaci√≥n**: Observe los registros de rendimiento durante el desarrollo

## Caracter√≠sticas del modo de desarrollo

### Registro de rendimiento

Cuando ejecuta `npm run dev`, ver√° m√©tricas de rendimiento detalladas:

```
‚è±Ô∏è  getAllDocs(v1.0.0): 234.56ms
‚è±Ô∏è  getDocBySlug(getting-started): 12.34ms
üíæ Memory Usage: { rss: '156MB', heapTotal: '89MB', heapUsed: '67MB' }
```

### Utilidades de depuraci√≥n

El sistema incluye herramientas de depuraci√≥n √∫tiles (solo modo dev):

- **PerfTimer**: Medir duraci√≥n de operaci√≥n
- **logCacheOperation**: Rostrear aciertos/fallos de cach√©
- **logMemoryUsage**: Monitorear consumo de memoria
- **debugLog**: Imprimir objetos complejos de forma bonita

## Optimizaciones de producci√≥n

### Generaci√≥n de sitio est√°tico (SSG)

Todas las p√°ginas de documentaci√≥n se pre-renderizan en tiempo de compilaci√≥n:

- Cero sobrecarga de renderizado del lado del servidor
- Cargas de p√°gina instant√°neas
- Excelente rendimiento SEO
- Activos est√°ticos aptos para CDN

### Optimizaci√≥n de bundle

- Componentes de servidor por defecto (JavaScript m√≠nimo)
- Componentes de cliente solo donde sea necesario (pesta√±as, selector de tema)
- Divisi√≥n de c√≥digo autom√°tica por ruta
- Tree-shaking de dependencias no utilizadas

## Monitoreo de rendimiento

### An√°lisis de compilaci√≥n

Monitoree su salida de compilaci√≥n para obtener informaci√≥n sobre el rendimiento:

```bash
npm run build
```

Busque:
- Tiempo de generaci√≥n de p√°gina est√°tica
- N√∫mero de p√°ginas generadas
- Advertencias de tama√±o de bundle

### M√©tricas de desarrollo

Durante el desarrollo, observe la consola para:
- Ratios de acierto/fallo de cach√© (deber√≠an mejorar con el tiempo)
- Tiempos de operaci√≥n de archivos (identificar operaciones lentas)
- Patrones de uso de memoria (detectar fugas de memoria)

## Mejores pr√°cticas

1. **Mantenga los archivos organizados**: La estructura de carpetas l√≥gica mejora el almacenamiento en cach√©
2. **Use frontmatter sabiamente**: Agregue solo los metadatos necesarios
3. **Optimice el contenido**: Los archivos grandes (>1MB) deben dividirse
4. **Monitoree la cach√©**: Las altas tasas de fallos indican problemas de almacenamiento en cach√©
5. **Compilaciones limpias**: Ocasionalmente borre `.next/` para compilaciones frescas

## Soluci√≥n de problemas

### Tiempos de compilaci√≥n lentos

Si las compilaciones son lentas:

1. Verifique si hay archivos MDX extremadamente grandes (>5MB)
2. Reduzca el n√∫mero de p√°ginas generadas simult√°neamente
3. Borre la cach√©: Elimine `.next/` y `node_modules/.cache/`
4. Actualice las dependencias a las √∫ltimas versiones

### La recarga en caliente no funciona

Si los cambios no se reflejan:

1. Verifique que est√° en modo de desarrollo (`npm run dev`)
2. Busque errores en la consola del navegador
3. Verifique que el punto final `/api/mdx-watch` est√° respondiendo
4. Refresco fuerte del navegador (Cmd+Shift+R o Ctrl+Shift+R)

### Problemas de memoria

Si experimenta un alto uso de memoria:

1. Verifique referencias circulares en la documentaci√≥n
2. Monitoree el tama√±o de la cach√© con `getCacheStats()`
3. Reduzca `CACHE_TTL` en `lib/mdx-cache.ts`
4. Borre cach√©s manualmente con `clearAllCaches()`
