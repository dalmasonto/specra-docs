---
title: Deployment Overview
description: Deploy your Specra documentation to production on any platform
sidebar_position: 1
icon: rocket
tab_group: guides
---

# Deployment Overview

Specra is built on Next.js, which means you can deploy it almost anywhere. This guide covers the most popular deployment options and how to configure Specra for each.

## Deployment Targets

Specra supports two deployment modes:

**Standalone Mode** (Node.js hosting)
- Vercel, Railway, Render, Fly.io, AWS, Google Cloud
- Dynamic server-side features
- Best performance with edge caching
- Default configuration

**Static Export** (Static hosting)
- GitHub Pages, Netlify, Cloudflare Pages
- Pre-rendered HTML/CSS/JS
- No server required
- Great for open source docs

## Quick Deployment

### Vercel (Recommended)

The easiest deployment option. One click and you're live:

<Steps>
  <Step title="Push to GitHub">
    Push your project to a GitHub repository:

```bash
git init
git add .
git commit -m "Initial commit"
git remote add origin https://github.com/username/repo.git
git push -u origin main
```
  </Step>

  <Step title="Deploy to Vercel">
    Visit [vercel.com/new](https://vercel.com/new) and import your repository.

    Vercel automatically detects Next.js and uses the correct settings:
    - Build Command: `npm run build`
    - Output Directory: `.next`
    - Install Command: `npm install`
  </Step>

  <Step title="Done!">
    Your site deploys in under a minute. Vercel gives you a URL like `your-project.vercel.app`.

    Every git push to main triggers a new deployment automatically.
  </Step>
</Steps>

<Callout type="success">
  No configuration needed! Specra's default settings work perfectly with Vercel.
</Callout>

### GitHub Pages

Perfect for open source documentation:

<Steps>
  <Step title="Configure for Static Export">
    Update `specra.config.json`:

```json
{
  "deployment": {
    "target": "github-pages",
    "basePath": "your-repo-name",
    "customDomain": false
  }
}
```

Replace `your-repo-name` with your actual repository name.

<Callout type="info">
  If using a custom domain (like `docs.yoursite.com`), set `customDomain: true` and leave `basePath` empty.
</Callout>
  </Step>

  <Step title="Build Static Site">
```bash
npm run build:export
```

This creates an `out/` directory with your static site.
  </Step>

  <Step title="Deploy with GitHub Actions">
    Create `.github/workflows/deploy.yml`:

```yaml
name: Deploy to GitHub Pages

on:
  push:
    branches: [main]

permissions:
  contents: read
  pages: write
  id-token: write

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4

      - name: Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: '20'
          cache: 'npm'

      - name: Install dependencies
        run: npm ci

      - name: Build site
        run: npm run build:export

      - name: Upload artifact
        uses: actions/upload-pages-artifact@v3
        with:
          path: ./out

  deploy:
    needs: build
    runs-on: ubuntu-latest
    environment:
      name: github-pages
      url: ${{ steps.deployment.outputs.page_url }}
    steps:
      - name: Deploy to GitHub Pages
        id: deployment
        uses: actions/deploy-pages@v4
```
  </Step>

  <Step title="Enable GitHub Pages">
    1. Go to your repo settings
    2. Navigate to **Pages**
    3. Source: **GitHub Actions**
    4. Save

    Your docs will be live at `https://username.github.io/repo-name`
  </Step>
</Steps>

### Netlify

Another great static hosting option:

<Steps>
  <Step title="Configure">
```json
{
  "deployment": {
    "target": "static"
  }
}
```
  </Step>

  <Step title="Create netlify.toml">
```toml
[build]
  command = "npm run build:export"
  publish = "out"

[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200
```
  </Step>

  <Step title="Deploy">
    Connect your repo at [netlify.com](https://netlify.com) or use the CLI:

```bash
npm install -g netlify-cli
netlify deploy --prod
```
  </Step>
</Steps>

## Build Commands

Different platforms need different build commands:

| Platform | Build Command | Output Directory |
|----------|---------------|------------------|
| Vercel, Railway | `npm run build` | `.next` |
| GitHub Pages | `npm run build:export` | `out` |
| Netlify, Cloudflare Pages | `npm run build:export` | `out` |
| Docker, VPS | `npm run build` + `npm start` | `.next` |

## Configuration by Platform

### Vercel

```json
{
  "deployment": {
    "target": "vercel"
  }
}
```

**Environment variables** (optional):
- None required for basic setup
- Add search/analytics keys in Vercel dashboard

### GitHub Pages (No Custom Domain)

```json
{
  "deployment": {
    "target": "github-pages",
    "basePath": "repo-name"
  }
}
```

**Why basePath?** GitHub Pages serves from `username.github.io/repo-name`, so all assets need the `/repo-name` prefix.

### GitHub Pages (With Custom Domain)

```json
{
  "deployment": {
    "target": "custom-domain-static",
    "customDomain": true
  }
}
```

Add a `CNAME` file to `public/`:

```
docs.yoursite.com
```

### Netlify / Cloudflare Pages

```json
{
  "deployment": {
    "target": "static"
  }
}
```

No basePath needed - they serve from root.

## CI/CD Pipelines

### GitHub Actions (Advanced)

Full example with caching and MeiliSearch indexing:

```yaml
name: Build and Deploy

on:
  push:
    branches: [main]
  pull_request:
    branches: [main]

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v4

      - name: Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: '20'
          cache: 'npm'

      - name: Cache dependencies
        uses: actions/cache@v4
        with:
          path: ~/.npm
          key: ${{ runner.os }}-node-${{ hashFiles('**/package-lock.json') }}
          restore-keys: |
            ${{ runner.os }}-node-

      - name: Install dependencies
        run: npm ci

      - name: Run linter
        run: npm run lint

      - name: Build site
        run: npm run build:export
        env:
          NODE_ENV: production

      - name: Index search content
        if: github.ref == 'refs/heads/main'
        run: npm run index:search
        env:
          MEILISEARCH_HOST: ${{ secrets.MEILISEARCH_HOST }}
          MEILISEARCH_API_KEY: ${{ secrets.MEILISEARCH_MASTER_KEY }}

      - name: Upload artifact
        uses: actions/upload-pages-artifact@v3
        with:
          path: ./out

  deploy:
    if: github.ref == 'refs/heads/main'
    needs: build
    runs-on: ubuntu-latest
    environment:
      name: github-pages
      url: ${{ steps.deployment.outputs.page_url }}
    permissions:
      pages: write
      id-token: write
    steps:
      - name: Deploy to GitHub Pages
        id: deployment
        uses: actions/deploy-pages@v4
```

### GitLab CI/CD

```yaml
# .gitlab-ci.yml
image: node:20

cache:
  paths:
    - node_modules/

stages:
  - build
  - deploy

build:
  stage: build
  script:
    - npm ci
    - npm run build:export
  artifacts:
    paths:
      - out/
  only:
    - main

pages:
  stage: deploy
  dependencies:
    - build
  script:
    - mkdir -p public
    - cp -r out/* public/
  artifacts:
    paths:
      - public
  only:
    - main
```

### Docker

Create a `Dockerfile`:

```dockerfile
FROM node:20-alpine AS builder

WORKDIR /app

COPY package*.json ./
RUN npm ci

COPY . .
RUN npm run build

FROM node:20-alpine AS runner

WORKDIR /app

ENV NODE_ENV=production

COPY --from=builder /app/public ./public
COPY --from=builder /app/.next/standalone ./
COPY --from=builder /app/.next/static ./.next/static

EXPOSE 3000

CMD ["node", "server.js"]
```

Build and run:

```bash
docker build -t my-docs .
docker run -p 3000:3000 my-docs
```

## Environment Variables

Set these in your deployment platform:

**Search (if using MeiliSearch):**
```bash
MEILISEARCH_HOST=https://search.example.com
MEILISEARCH_API_KEY=your-search-key
```

**Analytics (optional):**
```bash
NEXT_PUBLIC_GA_ID=G-XXXXXXXXXX
NEXT_PUBLIC_PLAUSIBLE_DOMAIN=docs.example.com
```

**Custom env variables:**
Access them in your docs via frontmatter or MDX:

```json
{
  "env": {
    "API_BASE_URL": "${API_URL}"
  }
}
```

## Custom Domains

### Vercel

1. Go to your project settings
2. Navigate to Domains
3. Add your custom domain
4. Update DNS records as shown

### GitHub Pages

1. Add `CNAME` file to `public/`:
```
docs.yoursite.com
```

2. Update `specra.config.json`:
```json
{
  "deployment": {
    "customDomain": true
  }
}
```

3. Configure DNS:
```
Type: CNAME
Name: docs
Value: username.github.io
```

### Netlify

1. Go to Domain settings
2. Add custom domain
3. Follow DNS instructions

## Performance Optimization

### Enable Caching

Add cache headers in `next.config.mjs`:

```javascript
async headers() {
  return [
    {
      source: '/docs/:path*',
      headers: [
        {
          key: 'Cache-Control',
          value: 'public, max-age=3600, must-revalidate',
        },
      ],
    },
  ]
}
```

### Image Optimization

Use Next.js Image component:

```mdx
<Image
  src="/images/diagram.png"
  alt="Architecture diagram"
  width={800}
  height={600}
/>
```

### Bundle Analysis

Check bundle size:

```bash
npm install --save-dev @next/bundle-analyzer
```

```javascript
// next.config.mjs
import bundleAnalyzer from '@next/bundle-analyzer'

const withBundleAnalyzer = bundleAnalyzer({
  enabled: process.env.ANALYZE === 'true',
})

export default withBundleAnalyzer(nextConfig)
```

Run with:
```bash
ANALYZE=true npm run build
```

## Troubleshooting

### 404 on Page Refresh (Static Export)

Add redirects/rewrites in platform config:

**Netlify:**
```toml
[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200
```

**Vercel (vercel.json):**
```json
{
  "rewrites": [
    { "source": "/(.*)", "destination": "/index.html" }
  ]
}
```

### Assets Not Loading (GitHub Pages)

Check your `basePath` matches your repo name exactly:

```json
{
  "deployment": {
    "basePath": "exact-repo-name"
  }
}
```

### Build Fails

Common fixes:

1. Clear `.next` and `out` folders:
```bash
rm -rf .next out node_modules
npm install
npm run build
```

2. Check Node.js version:
```bash
node --version  # Should be 18+
```

3. Review build logs for specific errors

## Platform-Specific Guides

Dive deeper into platform-specific deployment:

<CardGrid cols={3}>
  <Card
    icon="triangle"
    title="Vercel"
    description="Deploy with zero configuration"
    href="/docs/v1.0.0/deployment/vercel"
  />
  <Card
    icon="github"
    title="GitHub Pages"
    description="Free hosting for open source"
    href="/docs/v1.0.0/deployment/github-pages"
  />
  <Card
    icon="globe"
    title="Netlify"
    description="Static hosting with edge functions"
    href="/docs/v1.0.0/deployment/netlify"
  />
</CardGrid>

## Next Steps

<CardGrid cols={2}>
  <Card
    icon="settings"
    title="Configuration"
    description="Fine-tune your deployment settings"
    href="/docs/v1.0.0/configuration/deployment-config"
  />
  <Card
    icon="zap"
    title="Performance"
    description="Optimize your docs for speed"
    href="/docs/v1.0.0/performance"
  />
</CardGrid>
