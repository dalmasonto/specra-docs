---
title: Deploy to Netlify
description: Deploy your Specra documentation to Netlify for static hosting with edge functions
sidebar_position: 4
icon: globe
tab_group: guides
---

# Deploy to Netlify

Netlify provides powerful static hosting with features like instant rollbacks, split testing, and edge functions. It's a great choice for documentation sites.

## Why Netlify?

- **One-click deploy** - Connect and deploy in minutes
- **Continuous deployment** - Auto-deploy on git push
- **Instant rollbacks** - Restore previous versions instantly
- **Edge functions** - Run code at the edge
- **Forms & identity** - Built-in form handling and auth
- **Free tier** - Generous limits for documentation

## Quick Deploy

<Steps>
  <Step title="Configure for Static Export">
    Update `specra.config.json`:

```json
{
  "deployment": {
    "target": "static",
    "basePath": "",
    "customDomain": false
  }
}
```
  </Step>

  <Step title="Create netlify.toml">
    Add build configuration at project root:

```toml
[build]
  command = "npm run build:export"
  publish = "out"

[build.environment]
  NODE_VERSION = "20"

[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200
```

This tells Netlify how to build and what to publish.
  </Step>

  <Step title="Deploy">
    **Option 1: Web UI**
    1. Go to [netlify.com](https://netlify.com)
    2. Click "Add new site" → "Import an existing project"
    3. Connect your Git provider
    4. Select your repository
    5. Click "Deploy site"

**Option 2: Netlify CLI**
```bash
npm install -g netlify-cli
netlify deploy --prod
```
  </Step>
</Steps>

<Callout type="success">
Your site is now live at a Netlify URL like `random-name-123.netlify.app`
</Callout>

## Configuration

### Build Settings

Netlify auto-detects settings, but you can customize:

| Setting | Value |
|---------|-------|
| Build command | `npm run build:export` |
| Publish directory | `out` |
| Node version | 20 (set in `netlify.toml`) |

### Environment Variables

Add environment variables in the Netlify dashboard:

<Steps>
  <Step title="Go to Site Settings">
    Click your site → Site settings → Environment variables
  </Step>

  <Step title="Add Variables">
```
MEILISEARCH_HOST=https://search.example.com
MEILISEARCH_API_KEY=your-search-key
NEXT_PUBLIC_GA_ID=G-XXXXXXXXXX
```

<Callout type="tip">
Variables starting with `NEXT_PUBLIC_` are exposed to the browser. Keep sensitive keys without this prefix.
</Callout>
  </Step>

  <Step title="Redeploy">
    Go to Deploys → Trigger deploy → Deploy site
  </Step>
</Steps>

## Custom Domain

Add your own domain to your Netlify site:

<Steps>
  <Step title="Add Domain">
    1. Go to Domain settings
    2. Click "Add custom domain"
    3. Enter your domain (e.g., `docs.example.com`)
    4. Click "Verify"
  </Step>

  <Step title="Configure DNS">
    **Option 1: Use Netlify DNS (Recommended)**
    - Point your domain's nameservers to Netlify
    - Netlify manages all DNS records
    - Automatic SSL certificate

**Option 2: Use External DNS**

For subdomain:
```
Type: CNAME
Name: docs
Value: your-site.netlify.app
```

For apex domain:
```
Type: A
Name: @
Value: 75.2.60.5
```
  </Step>

  <Step title="Enable HTTPS">
    Netlify automatically provisions an SSL certificate from Let's Encrypt.

Check Domain settings → HTTPS for status.
  </Step>
</Steps>

## Deploy Previews

Netlify creates preview deployments for every pull request:

**What you get:**
- Unique URL for each PR
- Automatic updates when you push
- Deploy preview link in PR comments
- Perfect for reviewing changes

### Configure Deploy Previews

Control when previews are created:

```toml
[context.deploy-preview]
  command = "npm run build:export"

[context.branch-deploy]
  command = "npm run build:export"
```

## Advanced Features

### Redirect Rules

Add redirects in `netlify.toml`:

```toml
# Redirect old URLs
[[redirects]]
  from = "/old-page"
  to = "/new-page"
  status = 301

# SPA fallback
[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200

# Country-based redirects
[[redirects]]
  from = "/docs"
  to = "/en/docs"
  status = 302
  conditions = {Country = ["US"]}
```

### Headers

Add custom headers:

```toml
[[headers]]
  for = "/*"
  [headers.values]
    X-Frame-Options = "DENY"
    X-XSS-Protection = "1; mode=block"
    Content-Security-Policy = "default-src 'self'"

[[headers]]
  for = "/assets/*"
  [headers.values]
    Cache-Control = "public, max-age=31536000, immutable"
```

### Edge Functions

Run code at the edge for dynamic functionality:

Create `netlify/edge-functions/hello.ts`:

```typescript
export default async (request: Request) => {
  return new Response("Hello from the edge!")
}

export const config = {
  path: "/api/hello"
}
```

### Split Testing

Test different versions of your docs:

1. Go to Split testing
2. Click "Start a test"
3. Select branches to compare
4. Set traffic split (e.g., 50/50)

Great for testing new documentation layouts or content.

## Build Plugins

Extend your build with Netlify plugins:

```toml
[[plugins]]
  package = "@netlify/plugin-lighthouse"

[[plugins]]
  package = "netlify-plugin-checklinks"
```

Install plugins:

```bash
npm install -D @netlify/plugin-lighthouse netlify-plugin-checklinks
```

## Deployment Contexts

Different configs for different branches:

```toml
# Production (main branch)
[context.production]
  command = "npm run build:export"
  [context.production.environment]
    NODE_ENV = "production"

# Staging branch
[context.staging]
  command = "npm run build:export"
  [context.staging.environment]
    NODE_ENV = "staging"

# Deploy previews (PRs)
[context.deploy-preview]
  command = "npm run build:export -- --debug"
```

## Performance Optimization

### Asset Optimization

Netlify automatically optimizes:
- Image compression
- Bundle minification
- Brotli compression

Enable in Build & deploy → Post processing.

### Caching

Configure cache headers:

```toml
[[headers]]
  for = "/_next/static/*"
  [headers.values]
    Cache-Control = "public, max-age=31536000, immutable"

[[headers]]
  for = "/images/*"
  [headers.values]
    Cache-Control = "public, max-age=604800"
```

### Prerendering

For better SEO, enable prerendering:

```toml
[[plugins]]
  package = "@netlify/plugin-nextjs"
```

## Forms

Add forms to your documentation:

```html
<form name="contact" method="POST" data-netlify="true">
  <input type="text" name="name" />
  <input type="email" name="email" />
  <textarea name="message"></textarea>
  <button type="submit">Send</button>
</form>
```

Netlify automatically handles form submissions. View responses in Forms tab.

## Analytics

Enable Netlify Analytics for visitor insights:

1. Go to Analytics tab
2. Click "Enable Analytics"
3. Costs $9/month (optional)

Shows:
- Page views
- Top pages
- Traffic sources
- Geographic data

## CI/CD Integration

### GitHub Actions + Netlify

Deploy from GitHub Actions for more control:

```yaml
name: Deploy to Netlify

on:
  push:
    branches: [main]

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4

      - name: Setup Node
        uses: actions/setup-node@v4
        with:
          node-version: '20'

      - name: Install dependencies
        run: npm ci

      - name: Build
        run: npm run build:export

      - name: Deploy to Netlify
        uses: nwtgck/actions-netlify@v2
        with:
          publish-dir: './out'
          production-deploy: true
        env:
          NETLIFY_AUTH_TOKEN: ${{ secrets.NETLIFY_AUTH_TOKEN }}
          NETLIFY_SITE_ID: ${{ secrets.NETLIFY_SITE_ID }}
```

Get your auth token and site ID from Netlify dashboard.

## Troubleshooting

### Build Fails

**Check build logs:**
- Go to Deploys
- Click failed deploy
- View deploy log

**Common issues:**
- Node version mismatch (set in `netlify.toml`)
- Missing dependencies (use `npm ci` not `npm install`)
- Environment variables not set

### Assets 404

Ensure `netlify.toml` has the SPA redirect:

```toml
[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200
```

### Functions Not Working

Check function logs:
1. Go to Functions tab
2. Click your function
3. View logs

Ensure function path matches config:

```typescript
export const config = {
  path: "/api/hello"  // Must match your route
}
```

### Custom Domain SSL Issues

- Wait 24 hours for DNS propagation
- Verify DNS records with `dig` or `nslookup`
- Check HTTPS status in Domain settings
- Try re-provisioning certificate

## Rollbacks

Instantly rollback to a previous deployment:

1. Go to Deploys
2. Find the working version
3. Click "Publish deploy"

Your site reverts immediately. No waiting for builds.

## Monitoring

### Deploy Notifications

Get notified when deploys succeed or fail:

1. Go to Site settings → Build & deploy → Deploy notifications
2. Add notification (Email, Slack, webhook)
3. Choose events (deploy started, succeeded, failed)

### Status Badge

Add a deploy status badge to your README:

```markdown
[![Netlify Status](https://api.netlify.com/api/v1/badges/SITE_ID/deploy-status)](https://app.netlify.com/sites/SITE_NAME/deploys)
```

## Pricing

Netlify's free tier includes:
- 300 build minutes/month
- 100GB bandwidth/month
- Unlimited sites
- Deploy previews
- HTTPS
- Forms (100 submissions/month)

Upgrade to Pro ($19/month) for:
- More bandwidth and build minutes
- Analytics
- Team collaboration
- Priority support

## Best Practices

**Use `netlify.toml`** - Version control your build config

**Enable deploy previews** - Review changes before merging

**Set up notifications** - Know immediately when deploys fail

**Use environment variables** - Keep secrets out of code

**Configure redirects** - Handle URL changes properly

**Monitor analytics** - Understand how users navigate your docs

**Test locally** - Run `npm run build:export && npx serve out` first

## Next Steps

<CardGrid cols={2}>
  <Card
    icon="triangle"
    title="Vercel"
    description="Deploy to Vercel instead"
    href="/docs/v1.0.0/deployment/vercel"
  />
  <Card
    icon="github"
    title="GitHub Pages"
    description="Free hosting with GitHub Pages"
    href="/docs/v1.0.0/deployment/github-pages"
  />
  <Card
    icon="arrow-left"
    title="Deployment Overview"
    description="View all deployment options"
    href="/docs/v1.0.0/deployment/overview"
  />
  <Card
    icon="zap"
    title="Performance"
    description="Optimize your documentation"
    href="/docs/v1.0.0/performance"
  />
</CardGrid>
