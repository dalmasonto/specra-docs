---
title: Documentation API
description: Guide complet pour documenter les API REST dans Specra
icon: book-open
sidebar_position: 1
---

Specra fournit un syst√®me puissant mais flexible pour documenter les API REST. Que vous ayez 5 ou 500 points de terminaison, nous avons ce qu'il vous faut.

## Deux approches

### 1. Documentation g√©n√©r√©e automatiquement

Parfait pour les grandes API ou lorsque vous avez d√©j√† des sp√©cifications.

<div className="grid grid-cols-1 md:grid-cols-3 gap-4 not-prose my-6">
  <div className="border border-border rounded-lg p-4">
    <div className="text-2xl mb-2">üìã</div>
    <h4 className="font-semibold mb-1">Format Specra</h4>
    <p className="text-sm text-muted-foreground">Format JSON simple</p>
  </div>
  <div className="border border-border rounded-lg p-4">
    <div className="text-2xl mb-2">üîß</div>
    <h4 className="font-semibold mb-1">OpenAPI 3.x</h4>
    <p className="text-sm text-muted-foreground">Standard industriel</p>
  </div>
  <div className="border border-border rounded-lg p-4">
    <div className="text-2xl mb-2">üìÆ</div>
    <h4 className="font-semibold mb-1">Postman v2.x</h4>
    <p className="text-sm text-muted-foreground">Exporter depuis Postman</p>
  </div>
</div>

Cr√©ez ou exportez simplement votre fichier de sp√©cification et r√©f√©rencez-le :

```mdx
<ApiReference spec="/api-specs/my-api.json" />
```

Le syst√®me **d√©tecte automatiquement** le format et g√©n√®re une belle documentation interactive.

**Exemples :**
- [Format Specra (JSONPlaceholder) ‚Üí](/docs/v1.0.0/api-test)
- [Format OpenAPI 3.0 ‚Üí](/docs/v1.0.0/api-openapi)
- [Collection Postman ‚Üí](/docs/v1.0.0/api-postman)

[En savoir plus sur les formats ‚Üí](/docs/v1.0.0/api-formats)

---

### 2. Composants MDX manuels

Parfait pour les petites API ou lorsque vous avez besoin de mises en page personnalis√©es.

Utilisez des composants individuels pour √©laborer votre documentation :

```mdx
<ApiEndpoint
  method="GET"
  path="/api/users/:id"
  summary="Obtenir un utilisateur par ID"
>
  <ApiParams params={[...]} />
  <ApiResponse status={200} example={{...}} />
  <ApiPlayground method="GET" path="/api/users/123" />
</ApiEndpoint>
```

**Exemple :**
- [Exemple de composant manuel ‚Üí](/docs/v1.0.0/api-example)

---

## D√©marrage rapide

### G√©n√©r√© automatiquement (Recommand√©)

1. **Cr√©ez votre fichier de sp√©cification** (Specra, OpenAPI ou Postman)
2. **Placez-le dans** `/public/api-specs/my-api.json`
3. **Ajoutez √† votre MDX** :

```mdx
---
title: R√©f√©rence API
---

# Ma documentation API

<ApiReference spec="/api-specs/my-api.json" />
```

C'est tout ! Vous avez maintenant :
- ‚úÖ Documentation des points de terminaison g√©n√©r√©e automatiquement
- ‚úÖ Playground API interactif
- ‚úÖ Interface utilisateur en accord√©on pliable
- ‚úÖ Exemples avec coloration syntaxique
- ‚úÖ Sch√©mas de requ√™te/r√©ponse

### Composants manuels

1. **Cr√©ez un fichier MDX** dans `docs/`
2. **Utilisez les composants API** :

```mdx
---
title: R√©f√©rence API
---

# Mon API

<ApiEndpoint method="GET" path="/users" summary="Lister les utilisateurs">
  <ApiParams
    title="Param√®tres de requ√™te"
    params={[
      { name: "page", type: "number", description: "Num√©ro de page" }
    ]}
  />

  <ApiResponse
    status={200}
    description="Succ√®s"
    example={[{ id: 1, name: "John" }]}
  />

  <ApiPlayground
    method="GET"
    path="/users"
    baseUrl="https://api.example.com"
  />
</ApiEndpoint>
```

## Composants disponibles

### `<ApiReference>`

G√©n√©rer automatiquement des documents √† partir de fichiers de sp√©cification.

```tsx
<ApiReference
  spec="/api-specs/my-api.json"  // Chemin vers le fichier de sp√©cification
  parser="auto"                   // auto | specra | openapi | postman
  showPlayground={true}           // Afficher le playground interactif
/>
```

### `<ApiEndpoint>`

Documenter un seul point de terminaison (style accord√©on).

```tsx
<ApiEndpoint
  method="GET"              // GET | POST | PUT | PATCH | DELETE
  path="/api/users/:id"     // Chemin API
  summary="Obtenir un utilisateur par ID"  // Courte description
  defaultOpen={false}       // D√©marrer d√©velopp√© ?
>
  {/* Composants enfants */}
</ApiEndpoint>
```

### `<ApiParams>`

Afficher les param√®tres (chemin, requ√™te, corps).

```tsx
<ApiParams
  title="Param√®tres de chemin"
  params={[
    {
      name: "id",
      type: "string",
      required: true,
      description: "ID Utilisateur",
      example: "user_123"
    }
  ]}
/>
```

### `<ApiResponse>`

Afficher des exemples de r√©ponse.

```tsx
<ApiResponse
  status={200}
  description="Utilisateur trouv√©"
  example={{
    id: "user_123",
    name: "John Doe",
    email: "john@example.com"
  }}
/>
```

### `<ApiPlayground>`

Test d'API interactif.

```tsx
<ApiPlayground
  method="GET"
  path="/users/:id"
  baseUrl="https://api.example.com"
  headers={{ "Authorization": "Bearer ..." }}
  pathParams={[
    { name: "id", type: "string", example: "user_123" }
  ]}
  defaultBody='{"key": "value"}'
/>
```

## Fonctionnalit√©s

### Playground interactif

Chaque point de terminaison comprend un terrain de jeu int√©gr√© o√π les utilisateurs peuvent :
- ‚úÖ Modifier les param√®tres de chemin
- ‚úÖ Modifier les en-t√™tes de requ√™te
- ‚úÖ Mettre √† jour le corps de la requ√™te
- ‚úÖ Envoyer de vraies requ√™tes API
- ‚úÖ Voir les r√©ponses format√©es

### Interface utilisateur en accord√©on

Les points de terminaison sont pliables par d√©faut, ce qui permet de :
- Parcourir rapidement de nombreux points de terminaison
- D√©velopper uniquement ce dont vous avez besoin
- Garder la page propre et organis√©e

### Coloration syntaxique

Tous les exemples de code incluent :
- Coloration syntaxique JSON
- Num√©ros de ligne
- Bouton de copie
- Prise en charge du mode sombre

### Authentification

Documentez vos exigences d'authentification :
- Jetons Bearer
- Cl√©s API
- Authentification Basic
- En-t√™tes personnalis√©s

## Prise en charge des formats

| Format | Version | Cas d'utilisation |
|--------|---------|-------------------|
| **Specra** | 1.0 | Format simple et personnalis√© pour toute API |
| **OpenAPI** | 3.x, Swagger 2.0 | Standard industriel, g√©n√©ration de code |
| **Postman** | Collection v2.x | Utilisateurs Postman, exportation rapide |

[Comparer les formats ‚Üí](/docs/v1.0.0/api-formats)

## Exemples

### API compl√®te (G√©n√©r√©e automatiquement)

Utilisation de JSONPlaceholder comme exemple r√©el :

[Voir l'exemple en direct ‚Üí](/docs/v1.0.0/api-test)

### Sp√©cification OpenAPI

Documentation API de niveau entreprise :

[Voir l'exemple OpenAPI ‚Üí](/docs/v1.0.0/api-openapi)

### Collection Postman

Export√© directement depuis Postman :

[Voir l'exemple Postman ‚Üí](/docs/v1.0.0/api-postman)

### Composants manuels

Fabriqu√© √† la main pour des besoins personnalis√©s :

[Voir l'exemple manuel ‚Üí](/docs/v1.0.0/api-example)

## Meilleures pratiques

### 1. Choisissez la bonne approche

**Utilisez g√©n√©r√© automatiquement** lorsque :
- Vous avez > 10 points de terminaison
- Vous avez d√©j√† un fichier de sp√©cification
- Vous voulez de la coh√©rence
- Vous avez besoin de g√©n√©ration de code

**Utilisez des composants manuels** lorsque :
- Vous avez < 10 points de terminaison
- Vous avez besoin de mises en page personnalis√©es
- Vous voulez un contr√¥le total
- Vous documentez progressivement

### 2. Fournissez des exemples

Incluez toujours des exemples r√©alistes :
- Corps de requ√™te avec des donn√©es r√©elles
- Exemples de r√©ponse qui correspondent √† la r√©alit√©
- Cas limites et erreurs
- Exemples d'authentification

### 3. Gardez-le √† jour

**Pour les documents g√©n√©r√©s automatiquement :**
- R√©g√©n√©rez les sp√©cifications lorsque le code change
- R√©exportez r√©guli√®rement les collections Postman
- Versionnez vos fichiers de sp√©cification

**Pour les documents manuels :**
- V√©rifiez lorsque l'API change
- Testez le playground r√©guli√®rement
- Mettez √† jour les exemples

### 4. Organiser par fonctionnalit√©

Groupez les points de terminaison associ√©s :

```mdx
## Gestion des utilisateurs

<ApiReference spec="/api-specs/users.json" />

## Catalogue de produits

<ApiReference spec="/api-specs/products.json" />

## Commandes

<ApiReference spec="/api-specs/orders.json" />
```

### 5. Ajouter du contexte

Am√©liorez avec un texte explicatif :

```mdx
## Authentification

Tous les points de terminaison n√©cessitent un jeton JWT valide.

<Callout type="info">
Obtenez votre cl√© API depuis le [tableau de bord d√©veloppeur](https://example.com/dashboard).
</Callout>

<ApiReference spec="/api-specs/my-api.json" />
```

## Prochaines √©tapes

Pr√™t √† documenter votre API ?

1. **Choisissez votre format** - [Comparer les formats ‚Üí](/docs/v1.0.0/api-formats)
2. **Voir les exemples** - [Voir les exemples ‚Üí](/docs/v1.0.0/api-test)
3. **Commencer √† construire** - Cr√©ez votre premier fichier de sp√©cification
4. **Mettre en ligne** - D√©ployez votre documentation

<Callout type="success" title="Victoire rapide">
Vous avez une collection Postman ? Exportez-la et vous avez termin√© en 2 minutes !
</Callout>

## Ressources

- [Guide des formats pris en charge](/docs/v1.0.0/api-formats)
- [Exemple de format Specra](/docs/v1.0.0/api-test)
- [Exemple OpenAPI](/docs/v1.0.0/api-openapi)
- [Exemple Postman](/docs/v1.0.0/api-postman)
- [Exemple de composants manuels](/docs/v1.0.0/api-example)
- [Docs techniques du parseur](/API_PARSERS.md)
