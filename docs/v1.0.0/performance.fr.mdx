---
title: Performance et d√©veloppement
description: Comprendre les optimisations de performance et les fonctionnalit√©s de d√©veloppement int√©gr√©es au syst√®me de documentation
order: 7
icon: zap
---

## Syst√®me de mise en cache

### Mise en cache en m√©moire

Le syst√®me utilise une couche de mise en cache intelligente pour les op√©rations de syst√®me de fichiers co√ªteuses :

- **Mise en cache de la liste des versions** : Mis en cache pendant 5 secondes en dev, 60 secondes en production
- **Mise en cache de la liste des documents** : Mise en cache par version avec invalidation automatique
- **Mise en cache des documents individuels** : Cl√© par version et slug

Le cache s'invalide automatiquement lorsque les fichiers MDX ou de configuration changent en mode d√©veloppement.

### Statistiques de cache

En mode d√©veloppement, les op√©rations de cache sont journalis√©es dans la console :

```
‚úÖ [Cache] hit: getAllDocs:v1.0.0
‚ùå [Cache] miss: getDocBySlug:v1.0.0:configuration
‚è±Ô∏è  getDocBySlug(configuration): 45.23ms
```

## Rechargement √† chaud

### Mises √† jour en temps r√©el

Le syst√®me surveille votre r√©pertoire `docs/` pour les changements et rafra√Æchit automatiquement la page lorsque vous enregistrez :

- Surveille les fichiers `.mdx` pour les changements de contenu
- Surveille les fichiers `_category_.json` pour les mises √† jour de navigation
- Utilise les √©v√©nements envoy√©s par le serveur (SSE) pour une communication efficace
- Actif uniquement en mode d√©veloppement

### Comment √ßa marche

1. L'observateur de fichiers surveille le r√©pertoire `docs/` de mani√®re r√©cursive
2. Lorsqu'un fichier change, l'API envoie un √©v√©nement au navigateur
3. Le navigateur d√©clenche un rafra√Æchissement doux pour recharger le contenu
4. Le cache est invalid√© pour les fichiers affect√©s

## G√©n√©ration statique

### Processus de construction optimis√©

Le processus de construction utilise des donn√©es mises en cache pour acc√©l√©rer `generateStaticParams` :

```typescript
export async function generateStaticParams() {
  const versions = getCachedVersions()  // Mis en cache
  const params = []

  for (const version of versions) {
    const docs = await getCachedAllDocs(version)  // Mis en cache
    for (const doc of docs) {
      params.push({
        version,
        slug: doc.slug.split("/").filter(Boolean),
      })
    }
  }

  return params
}
```

### Conseils de performance

Pour les grands sites de documentation (1000+ fichiers) :

1. **Utiliser l'organisation des dossiers** : Organisez les documents dans des dossiers logiques pour am√©liorer la localit√© du cache
2. **Activer le mode brouillon** : marquez les documents en cours de r√©daction avec `draft: true` pour les exclure des builds de production
3. **Optimiser les images** : Utilisez l'optimisation d'image Next.js pour les captures d'√©cran et les diagrammes
4. **Surveiller les temps de construction** : Surveillez les journaux de performance pendant le d√©veloppement

## Fonctionnalit√©s du mode d√©veloppement

### Journalisation des performances

Lors de l'ex√©cution de `npm run dev`, vous verrez des m√©triques de performance d√©taill√©es :

```
‚è±Ô∏è  getAllDocs(v1.0.0): 234.56ms
‚è±Ô∏è  getDocBySlug(getting-started): 12.34ms
üíæ Memory Usage: { rss: '156MB', heapTotal: '89MB', heapUsed: '67MB' }
```

### Utilitaires de d√©bogage

Le syst√®me comprend des outils de d√©bogage utiles (mode dev uniquement) :

- **PerfTimer** : Mesurer la dur√©e des op√©rations
- **logCacheOperation** : Suivre les succ√®s/√©checs du cache
- **logMemoryUsage** : Surveiller la consommation de m√©moire
- **debugLog** : Imprimer proprement des objets complexes

## Optimisations de production

### G√©n√©ration de site statique (SSG)

Toutes les pages de documentation sont pr√©-rendues au moment de la construction :

- Z√©ro surcharge de rendu c√¥t√© serveur
- Chargements de page instantan√©s
- Excellente performance SEO
- Actifs statiques compatibles CDN

### Optimisation du bundle

- Composants serveur par d√©faut (JavaScript minimal)
- Composants client uniquement l√† o√π n√©cessaire (onglets, s√©lecteur de th√®me)
- D√©coupage de code automatique par route
- Tree-shaking des d√©pendances inutilis√©es

## Surveillance des performances

### Analyse de construction

Surveillez votre sortie de construction pour des informations sur les performances :

```bash
npm run build
```

Recherchez :
- Temps de g√©n√©ration de page statique
- Nombre de pages g√©n√©r√©es
- Avertissements de taille de bundle

### M√©triques de d√©veloppement

Pendant le d√©veloppement, surveillez la console pour :
- Ratios succ√®s/√©chec du cache (devraient s'am√©liorer avec le temps)
- Temps d'op√©ration sur les fichiers (identifier les op√©rations lentes)
- Mod√®les d'utilisation de la m√©moire (d√©tecter les fuites de m√©moire)

## Meilleures pratiques

1. **Gardez les fichiers organis√©s** : Une structure de dossiers logique am√©liore la mise en cache
2. **Utilisez le frontmatter judicieusement** : Ajoutez uniquement les m√©tadonn√©es n√©cessaires
3. **Optimisez le contenu** : Les gros fichiers (>1Mo) doivent √™tre divis√©s
4. **Surveillez le cache** : Des taux d'√©chec √©lev√©s indiquent des probl√®mes de mise en cache
5. **Builds propres** : Effacez occasionnellement `.next/` pour des builds frais

## D√©pannage

### Temps de construction lents

Si les builds sont lents :

1. V√©rifiez les fichiers MDX extr√™mement volumineux (>5Mo)
2. R√©duisez le nombre de pages g√©n√©r√©es simultan√©ment
3. Effacez le cache : Supprimez `.next/` et `node_modules/.cache/`
4. Mettez √† jour les d√©pendances vers les derni√®res versions

### Le rechargement √† chaud ne fonctionne pas

Si les modifications ne sont pas refl√©t√©es :

1. V√©rifiez que vous √™tes en mode d√©veloppement (`npm run dev`)
2. Recherchez des erreurs dans la console du navigateur
3. V√©rifiez que le point de terminaison `/api/mdx-watch` r√©pond
4. Rafra√Æchissement forc√© du navigateur (Cmd+Maj+R ou Ctrl+Maj+R)

### Probl√®mes de m√©moire

Si vous rencontrez une utilisation √©lev√©e de la m√©moire :

1. V√©rifiez les r√©f√©rences circulaires dans la documentation
2. Surveillez la taille du cache avec `getCacheStats()`
3. R√©duisez `CACHE_TTL` dans `lib/mdx-cache.ts`
4. Effacez les caches manuellement avec `clearAllCaches()`
